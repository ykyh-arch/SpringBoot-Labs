------

## **机器：192.168.177.1** 

###### `docker、harbor（镜像仓库，端口：80，账户：Jaquez，密码：Jaquez123456）、registry（端口：5000）、`

###### `nginx（tengine-2.3.3）、`

###### `mysql（端口：3306，账户：root，密码：123456）、`

###### `nacos`

------

## **机器：192.168.177.4**

###### `docker、harbor（镜像仓库，端口：1180，账户：Jaquez，密码：Jaquez123456）、registry（端口：5000）、`

###### `portainer（端口：9000，账户：admin，密码：12345678，dockerUI，采用 docker 部署方式运行）、`

###### `nginx（tengine-2.3.3）、 Nginx-GUI（端口：8889，账户：admin，密码：admin）、`

###### `mysql（端口：3306，账户：root，密码：123456）、`

###### `postgresql（端口：5432，账户：postgres，密码：jaquez123456;账户：kong，密码：123456）、`

###### `redis（redis-6.2.5，端口：6379）、`

###### `nacos （端口：8848）、`

###### `sentinel-dashboard （端口：7070，账户：sentinel，密码：sentinel）`

###### `sentry（日志异常管理平台，端口：9000，账户：643582433@qq.com，密码：123456）、`

###### `mongodb（端口：27017，管理员：Jaquez，密码：Jaquez123456，数据库：yapi，数据库管理员：yapiadmin/123456，开发账户：yapi/123456）、`

###### `yapi（可视化接口管理平台，可视化部署端口：9090，前端端口：3000，账户密码：643582433@qq.com/ymfe.org）、`

###### `zookeer（单机端口：2181）、`

###### `kafka（单机端口：9092，集群端口：9093、9094、9095）、`

###### `kafka-manager（端口：9000）、`

###### `rocketmq（namesrv端口：9876，broker端口：10911）、`

###### `rocketmq 控制台（端口：8080）、`

###### `rabbitmq（端口：5672、集群端口：25672，管理端端口：15672，账户：mqadmin，密码：mqadmin）、`

###### `elasticsearch（分布式搜索引擎，HTTP端口：9200，TCP端口：9300）、`

###### `logstash（服务器端数据处理管道，端口：9600，监听 Beats 端口：5044）、Beats（轻量级的数据采集器）、`

###### `Kibana（端口：5601）、`

###### `ShowDoc（端口：4999，docker 容器运行，账户：643582433@qq.com，密码：123456）、`

###### `Seata Server（端口：8091）、`

###### `Apollo Portal（端口：8070，账户：apollo，密码：admin）、Apollo Meta Server（端口：8080）、`

###### `Apollo Config Service（端口：8080，默认情况下，meta server 和 config service 是部署在同一个 JVM 进程，所以端口一致）`

###### `Apollo Admin Service（端口：8090）`

###### `Minio（Api 端口：9000，Console 端口：9001，账户：minioadmin，密码：minioadmin）`

###### `fastdfs (端口：8070)`

###### `Kong（客户端 HTTP 端口：8000，客户端 HTTPS 端口：8443，服务端 HTTP 端口：8001，服务端 HTTPS 端口：8444）`

###### `Konga（Kong 的控制台，端口：1337，账户：konga，密码：konga123456,邮箱：2317774857@qq.com）`

###### `arthas（web 控制台端口：3658），tunnel（web 端口8080，代理端口：7777）`

###### `prometheus（端口：9090）`

###### `prometheus-webhook-dingtalk（端口：8060）`

###### `Grafana（端口：3000，账户：admin，密码：123456）`

###### `alertmanager（端口：9093）`

###### `SkyWalking OAP（端口：11800）、SkyWalking UI（端口：8080） `

------

###### `portainer`

```linux
  启动：docker run -d -p 9000:9000 --name portainer --restart always --privileged -v /var/run/docker.sock:/var/run/docker.sock -v /soft/portainer/data:/data portainer/portainer
```

###### `nginx`

```linux
  nginx -s stop       快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。
  nginx -s quit       平稳关闭Nginx，保存相关信息，有安排的结束web服务。
  nginx -s reload     因改变了Nginx相关配置，需要重新加载配置而重载。
  nginx -s reopen     重新打开日志文件。
  nginx -c filename   为 Nginx 指定一个配置文件，来代替缺省的。
  nginx -t            不运行，而仅仅测试配置文件。nginx 将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。
  nginx -v            显示 nginx 的版本。
  nginx -V            显示 nginx 的版本，编译器版本和配置参数。
```

```linux
  启动：/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx-elk.conf
```

###### `Nginx-GUI`

```linux
  启动：nohup sh startup.sh > logs/nginx-gui.out &
  停止：nohup sh shutdown.sh > logs/nginx-gui.out &
```

###### `mysql`

```linux
  启动：systemctl start mysqld
  查看：systemctl status mysqld
```

###### `mongodb`

```linux
  启动：bin/mongod -f mongodb.conf
```

###### `PostgreSQL` 

```linux
  启动：systemctl start postgresql-12
  停止：systemctl stop postgresql-12
  状态：systemctl status postgresql-12
  开机自启：systemctl enable postgresql-12
```

###### `Redis`

```linux
  启动：./bin/redis-server redis.conf
```

###### `nacos`

```linux
  启动：sh bin/startup.sh -m standalone（单机）
  日志：tail -f logs/start.out
```

###### `sentinel-dashboard` 

```
  启动：nohup java -jar sentinel-dashboard-1.7.1.jar --server.port=7070 &
  日志：ls /root/logs/csp/sentinel-*.log.*
```

###### `zookeer`

```linux
  启动：./bin/zkServer.sh start
  停止：./bin/zkServer.sh stop
  查看节点：./bin/zkCli.sh && ls /zookeer
```

###### `Kafka（单机版）`

```linux
  启动：nohup bin/kafka-server-start.sh config/server.properties &
  日志：tail -f logs/server.log
  创建topic：bin/kafka-topics.sh --create --zookeeper 192.168.177.4:2181 --replication-factor 1 --partitions 1 --topic app-log-lab-38-elk-demo
  添加partitions：bin/kafka-topics.sh --alter --zookeeper 192.168.177.4:2181 --partitions 4 --topic app-log-lab-38-elk-demo
  查看topic列表： bin/kafka-topics.sh --list --zookeeper 192.168.177.4:2181
```

###### `Kafka Manager`

```linux
  启动：nohup bin/kafka-manager &
  日志：tail -f logs/application.log
```

###### `RocketMQ`

```linux
  启动Namesrv：nohup sh bin/mqnamesrv &
  查看Namesrv日志：tail -f ~/logs/rocketmqlogs/namesrv.log
  启动Broker：nohup sh bin/mqbroker -c conf/broker.conf  -n 127.0.0.1:9876 &
  查看Broker日志：tail -f ~/logs/rocketmqlogs/broker.log
```

###### `RocketMQ Console`

```linux
  启动：nohup java -jar target/rocketmq-console-ng-2.0.0.jar &
  查看日志：tail -f nohup.out
```

###### `rabbitmq`

```linux
  启动：systemctl start rabbitmq-server
  服务状态：systemctl enable rabbitmq-server
  状态：rabbitmqctl status （查看 log）
```

###### `elasticsearch`

```linux
  启动：bin/elasticsearch -d （非 Root 账号启动）
  日志：tail -f logs/elasticsearch.log
```

###### `logstash`

```linux
  启动：nohup bin/logstash -f config/logstash.conf &
  检查配置：bin/logstash -f config/logstash.conf -t  
```

######  `filebeat`

```linux
  启动：nohup ./filebeat &
  检查配置：./filebeat test config -c filebeat.yml
  日志：tail -f logs/filebeat
  查看采集进度：tail -f data/registry/filebeat/log.json
  查看端口：ps -ef | grep filebeat | grep -v "grep" | awk '{print $2}'
```

###### `Kibana`

```linux
  启动：nohup bin/kibana &
```

###### `Seata Server`

```linux
  启动：nohup sh bin/seata-server.sh &
  启动：nohup sh bin/seata-server.sh -p 8091 -n 1 -h 192.168.177.4 &
```

###### `Apollo Portal`

```linux
  启动：sh scripts/startup.sh
  日志：tail -f /opt/logs/100003173/apollo-portal.log
```

###### `Apollo Config Service`

```linux
  启动：sh scripts/startup.sh
  日志：tail -f /opt/logs/100003171/apollo-configservice.log
```

###### `Apollo Admin Service`

```linux
  启动：sh scripts/startup.sh
  日志：tail -f /opt/logs/100003172/apollo-adminservice.log
```

###### `Minio`

```linux
  启动：nohup ./minio server data --console-address ":9001" &
```

###### `fastdfs`

```linux
  启动：docker run -d --restart=always --privileged=true --net=host --name=fastdfs -e IP=192.168.177.4 -e WEB_PORT=8070 -v /soft/fastdfs:/var/local/fdfs qbanxiaoli/fastdfs
```

###### `Kong`

```linux
  启动：kong start -c /etc/kong/kong.conf
  停止：kong stop
```

###### `Konga`

```linux
  启动：nohup npm run production &
  docker 方式：
  docker run -p 1337:1337 --network kong-network \
              -e "TOKEN_SECRET=123456" \
              -e "mysql" \
              -e "DB_URI=mysql://root:123456@localhost:3306/konga" \
              -e "NODE_ENV=production" \
              --name konga \
              pantsel/konga
```

###### `prometheus`

```linux
  启动：nohup ./prometheus --config.file=prometheus.yml &
  重新加载配置：ps -ef | grep 'prometheus --config.file=prometheus.yml'
              kill -HUP 80562 # 通过 kill -HUP pid 的方式，让 Prometheus 重新加载配置
```

###### `prometheus-webhook-dingtalk`

```linux
  启动：nohup ./prometheus-webhook-dingtalk --config.file=config.yml --web.enable-ui &
```

###### `Grafana`

```linux
  启动：nohup ./bin/grafana-server  --config=conf/my.ini web &
```

###### `alertmanager`

```
  启动：nohup ./alertmanager --config.file=alertmanager.yml &
  检查：./amtool check-config alertmanager.yml
  重新加载配置：ps -ef | grep alertmanager
              kill -HUP 36247 # 通过 kill -HUP pid 的方式，让 Alertmanager 重新加载配置
```



------

## **机器：192.168.177.5** 

###### `nginx（tengine-2.3.3）、`

###### `mysql（端口：3306，账户：root，密码：123456）、`

###### `apisix（端口：9080，账户：admin，密码：123456）`  

------

###### `Apisix`

```linux
  启动：apisix start
  重新启动：apisix restart
```

------

###### `SkyWalking`

```linux
  SkyWalking OAP：
  启动：bin/oapService.sh
  日志：cat logs/skywalking-oap-server.log
  SkyWalking UI：
  启动：bin/webappService.sh
```



------

## **本机：**

###### `Jenkins （端口：8080，账户：Jaquez，密码：123456）`

